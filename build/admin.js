(()=>{"use strict";var e={338:(e,t,a)=>{var l=a(795);t.createRoot=l.createRoot,t.hydrateRoot=l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.React;var t=a.n(e),l=a(338);const s="JVkbi3Z7rXt4LjabonIi",r=e=>e.join(" "),n=({label:t,value:a,changeHandler:l,type:n,Sx:c})=>{const[i,o]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"mOsg0AfGEJeTxrcyvltd",style:c||{}},(0,e.createElement)("div",{className:"mu29Hy5JK0YRkvzxtIBJ"},(0,e.createElement)("label",{className:a||i?r([s,"xndGFOf3bz4mxKV5vLsf"]):s,onClick:()=>o(!0)},t),(0,e.createElement)("input",{className:"G0HXBaITNOUC69I0aa75",type:n||"text",value:a,onChange:e=>l(e.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1)})))},c=({children:t,onClick:a,clsName:l,disabled:s})=>{let n=["vKwAEyKpOxQvJ8ozGq1d"];return l&&n.push(l),s&&n.push("cg1wFmiiVM3Zp11dH8t2"),(0,e.createElement)("button",{onClick:a,className:r(n),disabled:s},t)},i=({path:t,clsName:a,Sx:l,fill:s,dimension:r,viewBox:n,without_viewBox:c,scale:i,children:o})=>{const m={display:"inline-block",...i&&{transform:`scale(${i})`},...l||{}},d=r||24;return(0,e.createElement)("span",{style:m,className:a||""},o||(c?(0,e.createElement)("svg",{fill:s||"#000",xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fillRule:"evenodd",clipRule:"evenodd"},(0,e.createElement)("path",{d:t})):(0,e.createElement)("svg",{fill:s||"#000",xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:n||"0 0 24 24"},(0,e.createElement)("path",{d:t}))))},o=t=>(0,e.createElement)(i,{...t,path:"M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"}),m=({children:t,isVisible:a,dimension:l})=>(0,e.createElement)("div",{className:"lNtjxKpWb5QTbHKTGckX"},a&&(0,e.createElement)("div",{className:"mkevyXm6sZEzNKnrRbUl"},(0,e.createElement)("div",{className:"InQCr_oxug5kTn7no_Ju",style:{height:l||"8rem",width:l||"8rem"}},(0,e.createElement)("div",null),(0,e.createElement)("div",null),(0,e.createElement)("div",null),(0,e.createElement)("div",null))),(0,e.createElement)("div",{className:"_Y7wmPIFIi7fC7pGWnbA"},t));async function d({url:e,methodType:t,data:a,header:l}){const s=t||"GET",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json",...l&&l},...["POST","PATCH"].includes(s)&&a&&{body:JSON.stringify(a)}});if(!r.ok){const e=await r.json();throw new Error(e||"error")}return await r.json()}const u="35px",p=({setShowAddItem:t,varList:a,successHandler:l,errorHandler:s})=>{const[r,i]=(0,e.useState)(""),[p,E]=(0,e.useState)(""),[h,v]=(0,e.useState)(""),[g,N]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"Eva5loOyhCuIlBZcLCOB"},(0,e.createElement)(c,{clsName:"lmc3UaVnOBhl5w624pr2",onClick:()=>t(!1)},(0,e.createElement)(o,{fill:"#fff",scale:.8})),(0,e.createElement)("div",{className:"KFiTQNd8sGaimA2mfIAW"},(0,e.createElement)(m,{isVisible:g},(0,e.createElement)(n,{label:"Postal Code",value:r,changeHandler:e=>i(e)}),(0,e.createElement)(n,{label:"Street",value:p,changeHandler:e=>E(e),Sx:{marginTop:u}}),(0,e.createElement)(n,{label:"Shipping Cost",value:h,changeHandler:e=>v(e),Sx:{marginTop:u},type:"number"}),(0,e.createElement)("div",{style:{marginTop:"30px"}},(0,e.createElement)(c,{onClick:async()=>{try{if(!r||!p||!h)return null;N(!0),await d({url:`${a.siteUrl}/wp-json/shippingTable/addItem`,methodType:"POST",header:{"X-WP-Nonce":a.nonce},data:{policeStation:r,area:p,cost:h}}),l()}catch(e){s()}finally{N(!1)}},disabled:!r||!p||!h},"Add Area")))))},E=({isOpen:t,message:a,type:l,closeHandler:s})=>{let r=["U5V7BOIrjE3sgfXs70uf"];return"success"===l?r.push("BGoWnSGWMmE6wOnaDuZQ"):"error"===l?r.push("xjQCE7mgfC_vscNdcaad"):r.push("DHTHfpDcSNrAZmuN76Eg"),(0,e.useEffect)((()=>{let e=setTimeout((()=>{s()}),4e3);return()=>{clearTimeout(e)}}),[s]),t?(0,e.createElement)("div",{className:r.join(" ")},(0,e.createElement)("p",{className:"BgdIsADAKKLJQZzjV8S7"},a),(0,e.createElement)("button",{className:"D_2b1PJxlNYBtdQSraAQ",onClick:s},(0,e.createElement)(o,{fill:"#fff",Sx:{transform:"translateY(0.2rem) scale(0.4)",padding:"0rem"}}))):null},h="UYr9t0O8uFeqHoxqbo4T",v="PaO6c_7exrQYWv4MGtlh",g="FZw7JuSPWdACWNMuKwTB",N=({list:t,showDeleteItem:a,setSatus:l,varList:s,successHandler:r,errorHandler:n})=>(0,e.createElement)("div",{className:"w16EqYNqm2wxbNKHwjpI"},(0,e.createElement)("table",{className:"yN8CKbYAypXZnaNxzxqI"},(0,e.createElement)("tr",{className:g},(0,e.createElement)("th",{className:v}," City "),(0,e.createElement)("th",{className:v}," Postal Code "),(0,e.createElement)("th",{className:v}," Street "),(0,e.createElement)("th",{className:v}," Cost "),a&&(0,e.createElement)("th",{className:v}," Delete ")),(()=>{let e=[];return t.forEach((t=>{t.list.forEach((a=>{e=[...e,{...a,policeStation:t.ps,district:"Amsterdam"}]}))})),e})().map((t=>(0,e.createElement)("tr",{className:g,key:t.id},(0,e.createElement)("td",{className:h}," ",t.district," "),(0,e.createElement)("td",{className:h}," ",t.policeStation," "),(0,e.createElement)("td",{className:h}," ",t.area," "),(0,e.createElement)("td",{className:h}," ",t.cost," "),a&&(0,e.createElement)("td",{className:h},(0,e.createElement)(c,{clsName:"Qugkbb4D57My99VR7sdL",onClick:()=>(async e=>{try{l("loading"),await d({url:`${s.siteUrl}/wp-json/shippingTable/deleteItem?id=${e}`,methodType:"DELETE",header:{"X-WP-Nonce":s.nonce}}),l("success"),r()}catch(e){l("error"),n()}})(t.id)},(0,e.createElement)(o,{scale:.5})))))))),w=()=>{const[t,a]=(0,e.useState)([]),[l,s]=(0,e.useState)(null),[r,n]=(0,e.useState)({status:"success",msg:"",visible:!1}),[i,o]=(0,e.useState)(!1),[u,h]=(0,e.useState)(!1),[v,g]=(0,e.useState)(null);(0,e.useEffect)((()=>{w()}),[]);const w=async()=>{try{const e=php_var_list;if(!e||!e.site_url||!e.nonce)throw new Error("failed");g({siteUrl:e.site_url,nonce:e.nonce}),s("loading");const t=await d({url:`${e.site_url}/wp-json/shippingTable/getAll`});a([...t]),s("success")}catch(e){s("error"),n({status:"error",msg:"Failed to get Shipping Area",visible:!0})}};return(0,e.createElement)(m,{isVisible:"loading"===l},(0,e.createElement)(E,{type:r.status,isOpen:r.visible,closeHandler:()=>n({...r,visible:!1}),message:r.msg}),(0,e.createElement)("div",{className:"qK2BzfyssD0SH1NeV6Hv"},(0,e.createElement)("h1",{className:"tvY3JiV08iEGxUCxOtJg"}," Shipping Cost "),(0,e.createElement)("div",{className:"oxLxjaGJ_2ebOihn1eIR"},(0,e.createElement)(c,{onClick:()=>o(!0)}," Add new item "),(0,e.createElement)(c,{onClick:()=>h((e=>!e))},u?"Cancel Delete":"Delete one item")),i&&v&&(0,e.createElement)(p,{setShowAddItem:o,varList:v,successHandler:()=>{n({status:"success",msg:"Shipping Area inserted",visible:!0}),o(!1),w()},errorHandler:()=>{n({status:"error",msg:"Failed to insert Shipping Area",visible:!0}),o(!1)}}),v&&(0,e.createElement)(N,{varList:v,list:t,showDeleteItem:u,setSatus:s,successHandler:()=>{n({status:"success",msg:"Shipping item deleted",visible:!0}),h(!1),w()},errorHandler:()=>{n({status:"error",msg:"Failed to delete shipping item",visible:!0})}})))};window.addEventListener("load",(()=>{const a=document.getElementById("react_root");if(!a)return null;l.createRoot(a).render((0,e.createElement)(t().StrictMode,null,(0,e.createElement)(w,null)))}))})()})();