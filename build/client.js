(()=>{"use strict";var e={338:(e,t,a)=>{var l=a(795);t.createRoot=l.createRoot,t.hydrateRoot=l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.React;var t=a.n(e),l=a(338);const r={city:"Amsterdam",policeStation:"",area:"",shippingAreaID:"",cost:"",address:"",availablePSList:[],availableAreaList:[],totalWeight:0,approximateWeight:1,totalPrice:"",cartPrice:0},s=(e,t)=>{switch(t.type){case"php_cart":return{...e,totalWeight:t.payload.total,approximateWeight:t.payload.approximate,cartPrice:t.payload.price};case"policeStation":return{...e,policeStation:t.payload,area:"",cost:"",shippingAreaID:"",totalPrice:""};case"area":{const a=e.availableAreaList[t.payload];return{...e,area:a.area,cost:`${a.cost}`,shippingAreaID:`${a.id}`,totalPrice:""+Number(a.cost)*Number(e.approximateWeight)}}case"address":return{...e,address:t.payload};case"availablePS":return{...e,availablePSList:[...t.payload]};case"availableArea":return{...e,availableAreaList:[...t.payload]};default:return e}},n={root:"MFwAmXlhku9jHGNUC4dc",select_box_div:"bGzrgWEPNGvKjdUsysT4",boxDisabled:"vO5fHp7dFs3gTRcYefQy",select_box:"u1Bv6n1Lf21gHn46KhKQ",label_selected:"X_XJsQ6P7VVuA6Zj5Xry",label_txt:"B6CzE5el1I9y3tbbgbZQ",label_txt_upper:"cGYFppiqfPBAnETfTkLV",option_list:"q9DMsKRiXidcQc1MT1uK",option_item:"CwhBxvowyBZ8fT6JbM3N"},c=({list:t,label:a,currentValue:l,setCurrentValue:r,disabled:s})=>{const[c,i]=(0,e.useState)(!1),o=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=e=>{const t=e.target;t&&o?.current&&o.current.contains(t)||i(!1)};return document.body.addEventListener("click",e,{capture:!0}),()=>{document.body.removeEventListener("click",e)}}),[]),(0,e.createElement)("div",{ref:o,className:n.root,onClick:()=>{if(s)return i(!1),null;i(!c)}},(0,e.createElement)("div",{className:s?[n.select_box_div,n.boxDisabled].join(" "):n.select_box_div},(0,e.createElement)("div",{className:n.select_box},(0,e.createElement)("span",{className:c||l?[n.label_txt,n.label_txt_upper].join(" "):n.label_txt,style:{...c&&{color:"red"},...s&&{color:"#d1d1d1"}}},a),(0,e.createElement)("p",{className:n.label_selected,style:{...!l&&{opacity:0}}},l||a))),c&&(0,e.createElement)("div",{className:n.option_list,style:{zIndex:99999}},t.map(((t,a)=>(0,e.createElement)("div",{onClick:()=>r(t,a),key:t,className:n.option_item},t)))))},i=({path:t,clsName:a,Sx:l,fill:r,dimension:s,viewBox:n,without_viewBox:c,scale:i,children:o})=>{const m={display:"inline-block",...i&&{transform:`scale(${i})`},...l||{}},p=s||24;return(0,e.createElement)("span",{style:m,className:a||""},o||(c?(0,e.createElement)("svg",{fill:r||"#000",xmlns:"http://www.w3.org/2000/svg",width:p,height:p,fillRule:"evenodd",clipRule:"evenodd"},(0,e.createElement)("path",{d:t})):(0,e.createElement)("svg",{fill:r||"#000",xmlns:"http://www.w3.org/2000/svg",width:p,height:p,viewBox:n||"0 0 24 24"},(0,e.createElement)("path",{d:t}))))},o=t=>(0,e.createElement)(i,{...t,path:"M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"}),m=({isOpen:t,message:a,type:l,closeHandler:r})=>{let s=["U5V7BOIrjE3sgfXs70uf"];return"success"===l?s.push("BGoWnSGWMmE6wOnaDuZQ"):"error"===l?s.push("xjQCE7mgfC_vscNdcaad"):s.push("DHTHfpDcSNrAZmuN76Eg"),(0,e.useEffect)((()=>{let e=setTimeout((()=>{r()}),4e3);return()=>{clearTimeout(e)}}),[r]),t?(0,e.createElement)("div",{className:s.join(" ")},(0,e.createElement)("p",{className:"BgdIsADAKKLJQZzjV8S7"},a),(0,e.createElement)("button",{className:"D_2b1PJxlNYBtdQSraAQ",onClick:r},(0,e.createElement)(o,{fill:"#fff",Sx:{transform:"translateY(0.2rem) scale(0.4)",padding:"0rem"}}))):null},p="Dp8wSBc8cMCGSWcOdGgI",d="YMS4b1eHwZAeGKjKH5yW",u="vdjeE8FcSWl8Bec5KFe4",E=({children:t,isVisible:a,dimension:l})=>(0,e.createElement)("div",{className:"lNtjxKpWb5QTbHKTGckX"},a&&(0,e.createElement)("div",{className:"mkevyXm6sZEzNKnrRbUl"},(0,e.createElement)("div",{className:"InQCr_oxug5kTn7no_Ju",style:{height:l||"8rem",width:l||"8rem"}},(0,e.createElement)("div",null),(0,e.createElement)("div",null),(0,e.createElement)("div",null),(0,e.createElement)("div",null))),(0,e.createElement)("div",{className:"_Y7wmPIFIi7fC7pGWnbA"},t)),g="JVkbi3Z7rXt4LjabonIi",v=({label:t,value:a,changeHandler:l,type:r,Sx:s})=>{const[n,c]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"mOsg0AfGEJeTxrcyvltd",style:s||{}},(0,e.createElement)("div",{className:"mu29Hy5JK0YRkvzxtIBJ"},(0,e.createElement)("label",{className:a||n?(i=[g,"xndGFOf3bz4mxKV5vLsf"],i.join(" ")):g,onClick:()=>c(!0)},t),(0,e.createElement)("input",{className:"G0HXBaITNOUC69I0aa75",type:r||"text",value:a,onChange:e=>l(e.target.value),onFocus:()=>c(!0),onBlur:()=>c(!1)})));var i},h=()=>{const[t,a]=(0,e.useReducer)(s,r),[l,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(null),[g,h]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const e=php_var_list;e&&e.site_url&&(async()=>{try{o("loading");const t=await async function({url:e,methodType:t,data:a,header:l}){const r=t||"GET",s=await fetch(e,{method:t,headers:{"Content-Type":"application/json",...l&&l},...["POST","PATCH"].includes(r)&&a&&{body:JSON.stringify(a)}});if(!s.ok){const e=await s.json();throw new Error(e||"error")}return await s.json()}({url:`${e.site_url}/wp-json/shippingTable/getAll`});n([...t]),h(!1),o("success")}catch(e){h(!0),o("error")}})()}),[]),(0,e.useEffect)((()=>{const e=l.map((e=>e.ps));a({type:"availablePS",payload:e});const t=document.getElementById("SHBDHCST2_cart_clc_weight"),r=document.getElementById("SHBDHCST2_cart_clc_price");if(t&&r){const e=t.innerText.replace(/\s/g,""),l=r.innerText.replace(/\s/g,""),s=Number(e);a({type:"php_cart",payload:{total:s,approximate:s<1?1:s,price:Number(l)}})}}),[l]),(0,e.useEffect)((()=>{const e=document.getElementById("inputShippingAreaId"),a=document.getElementById("inputShippingAddress");if(!a||!e)return;e.value=t.shippingAreaID,a.value=t.address;const l=document.getElementById("shbdhcst2_total_calculated_price");l&&t.totalPrice&&(l.innerHTML=`\n        <p class=${d}> Total Price + Shipping Cost: \n          <span class=${u} > ${Number(t.totalPrice)+t.cartPrice}€ </span>\n        </p>\n      `)}),[t]),(0,e.createElement)(E,{isVisible:"loading"===i},(0,e.createElement)("div",{className:"v1bFcZMo09VOURoOJAaI"},(0,e.createElement)("h3",null," Shipping Details "),(0,e.createElement)(m,{type:"error",isOpen:g,closeHandler:()=>h(!1),message:"Failed to get Shipping Area"}),(0,e.createElement)("div",{className:p},(0,e.createElement)(c,{list:["Amsterdam"],currentValue:t.city,setCurrentValue:e=>{},label:"Select City"})),(0,e.createElement)("div",{className:p},(0,e.createElement)(c,{list:t.availablePSList,currentValue:t.policeStation,setCurrentValue:(e,t)=>(e=>{const t=l[e];a({type:"policeStation",payload:t.ps}),a({type:"availableArea",payload:[...t.list]})})(t),label:"Select Postal Code"})),(0,e.createElement)("div",{className:p},(0,e.createElement)(c,{list:t.availableAreaList.map((e=>e.area)),currentValue:t.area,setCurrentValue:(e,t)=>a({type:"area",payload:t}),label:"Select Street",disabled:0===t.availableAreaList.length})),(0,e.createElement)("div",{className:p,style:{marginTop:"20px"}},(0,e.createElement)(v,{label:"Pick Point Address",value:t.address,changeHandler:e=>a({type:"address",payload:e})})),(0,e.createElement)("div",{className:p},t.totalWeight?(0,e.createElement)("p",{className:d},"Total weight of your cart is ",(0,e.createElement)("span",{className:u}," ",t.totalWeight," KG "),"."):"",t.totalWeight&&t.totalWeight<1||!t.totalWeight?(0,e.createElement)("p",{className:d},"Though minimum weight will be considered as",(0,e.createElement)("span",{className:u}," 1 kg "),". So your approximate weight is",(0,e.createElement)("span",{className:u}," ",t.approximateWeight," kg "),"."):"",t.area&&t.cost&&t.totalPrice&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{className:d}," Shipping Cost in",(0,e.createElement)("span",{className:u}," ",t.area," ")," is",(0,e.createElement)("span",{className:u}," ",t.cost,"€ "),"per kg"),(0,e.createElement)("p",{className:d,style:{marginTop:"20px",fontSize:"20px"}},"Total Shipping Cost is",(0,e.createElement)("span",{className:u},t.totalPrice,"€"))))))};window.addEventListener("load",(()=>{const a=document.getElementById("react_root");if(!a)return null;l.createRoot(a).render((0,e.createElement)(t().StrictMode,null,(0,e.createElement)(h,null)))}))})()})();